import Foundation

typealias RecipeID = UInt32

struct Recipe: Identifiable, Codable {
    let id: RecipeID
    let imageURL: URL
    let title: String
    let readyInMinutes: Int
    let sourceName: String
    let aggregateLikes: Int
    
    let isVegetarian: Bool
    let isGlutenFree: Bool
    let isVeryHealthy: Bool
    
    let extendedIngredients: [Ingredient]
    
    private enum CodingKeys: String, CodingKey {
        case id
        case imageURL = "image"
        case title
        case readyInMinutes
        case sourceName
        case aggregateLikes
        case isVegetarian = "vegetarian"
        case isGlutenFree = "glutenFree"
        case isVeryHealthy = "veryHealthy"
        case extendedIngredients
    }
}

extension Recipe {
    static var preview1: Recipe {
        let data = #"{"id":663638,"image":"https://img.spoonacular.com/recipes/663638-556x370.jpg","imageType":"jpg","title":"Tomato Stack Salad","readyInMinutes":45,"servings":4,"sourceUrl":"https://www.foodista.com/recipe/KGHJG5BW/tomato-stack-salad","vegetarian":true,"vegan":false,"glutenFree":true,"dairyFree":false,"veryHealthy":false,"cheap":false,"veryPopular":false,"sustainable":false,"lowFodmap":false,"weightWatcherSmartPoints":8,"gaps":"no","preparationMinutes":null,"cookingMinutes":null,"aggregateLikes":2,"healthScore":12,"creditsText":"foodista.com","license":null,"sourceName":"foodista.com","pricePerServing":296.01,"extendedIngredients":[{"id":2069,"aisle":"Oil, Vinegar, Salad Dressing","image":"balsamic-vinegar.jpg","consistency":"LIQUID","name":"balsamic vinegar","nameClean":"balsamic vinegar","original":"Good balsamic vinegar for drizzling","originalName":"Good balsamic vinegar for drizzling","amount":4,"unit":"servings","meta":["good","for drizzling"],"measures":{"us":{"amount":4,"unitShort":"servings","unitLong":"servings"},"metric":{"amount":4,"unitShort":"servings","unitLong":"servings"}}},{"id":10111297,"aisle":"Produce","image":"mixed-fresh-herbs.jpg","consistency":"SOLID","name":"herbs","nameClean":"herbs","original":"2 tablespoons fresh chopped herbs (thyme, chive, rosemary...)","originalName":"fresh chopped herbs (thyme, chive, rosemary...)","amount":2,"unit":"tablespoons","meta":["fresh","chopped","(thyme, chive, rosemary...)"],"measures":{"us":{"amount":2,"unitShort":"Tbsps","unitLong":"Tbsps"},"metric":{"amount":2,"unitShort":"Tbsps","unitLong":"Tbsps"}}},{"id":1159,"aisle":"Cheese","image":"goat-cheese.jpg","consistency":"SOLID","name":"goat cheese","nameClean":"goat cheese","original":"10 ounces soft goat cheese, room temperature","originalName":"soft goat cheese, room temperature","amount":10,"unit":"ounces","meta":["soft","room temperature"],"measures":{"us":{"amount":10,"unitShort":"oz","unitLong":"ounces"},"metric":{"amount":283.495,"unitShort":"g","unitLong":"grams"}}},{"id":2047,"aisle":"Spices and Seasonings","image":"salt.jpg","consistency":"SOLID","name":"salt","nameClean":"salt","original":"Salt to taste","originalName":"Salt to taste","amount":4,"unit":"servings","meta":["to taste"],"measures":{"us":{"amount":4,"unitShort":"servings","unitLong":"servings"},"metric":{"amount":4,"unitShort":"servings","unitLong":"servings"}}},{"id":11529,"aisle":"Produce","image":"tomato.png","consistency":"SOLID","name":"tomatoes","nameClean":"tomatoes","original":"4 ripe medium tomatoes","originalName":"ripe medium tomatoes","amount":4,"unit":"medium","meta":["ripe"],"measures":{"us":{"amount":4,"unitShort":"medium","unitLong":"mediums"},"metric":{"amount":4,"unitShort":"medium","unitLong":"mediums"}}}],"summary":"Tomato Stack Salad is a main course that serves 4. For <b>$2.96 per serving</b>, this recipe <b>covers 13%</b> of your daily requirements of vitamins and minerals. Watching your figure? This gluten free, lacto ovo vegetarian, and primal recipe has <b>224 calories</b>, <b>14g of protein</b>, and <b>15g of fat</b> per serving. This recipe from Foodista has 2 fans. A mixture of balsamic vinegar, tomatoes, goat cheese, and a handful of other ingredients are all it takes to make this recipe so yummy. From preparation to the plate, this recipe takes approximately <b>45 minutes</b>. All things considered, we decided this recipe <b>deserves a spoonacular score of 52%</b>. This score is pretty good. If you like this recipe, you might also like recipes such as <a href=\"https://spoonacular.com/recipes/tomato-stack-salad-108557\">Tomato Stack-Salad</a>, <a href=\"https://spoonacular.com/recipes/tomato-avocado-salad-stack-792864\">Tomato Avocado Salad Stack</a>, and <a href=\"https://spoonacular.com/recipes/tomato-stack-salad-with-corn-and-avocado-200555\">Tomato Stack Salad with Corn and Avocado</a>.","cuisines":[],"dishTypes":["side dish","lunch","main course","salad","main dish","dinner"],"diets":["gluten free","lacto ovo vegetarian","primal"],"occasions":[],"instructions":"<ol><li>Mix the fresh herbs into the goat cheese.</li><li>Slice the tomatoes into 4 thick rounds. Sprinkle each tomato round with salt. Gently slather the layers of each tomato with the goat cheese.</li><li>Stack the rounds to reassemble the tomato. Drizzle with balsamic vinegar!</li></ol>","analyzedInstructions":[{"name":"","steps":[{"number":1,"step":"Mix the fresh herbs into the goat cheese.Slice the tomatoes into 4 thick rounds.","ingredients":[{"id":10111297,"name":"fresh herbs","localizedName":"fresh herbs","image":"mixed-fresh-herbs.jpg"},{"id":1159,"name":"goat cheese","localizedName":"goat cheese","image":"goat-cheese.jpg"},{"id":11529,"name":"tomato","localizedName":"tomato","image":"tomato.png"}],"equipment":[]},{"number":2,"step":"Sprinkle each tomato round with salt. Gently slather the layers of each tomato with the goat cheese.Stack the rounds to reassemble the tomato.","ingredients":[{"id":1159,"name":"goat cheese","localizedName":"goat cheese","image":"goat-cheese.jpg"},{"id":11529,"name":"tomato","localizedName":"tomato","image":"tomato.png"},{"id":2047,"name":"salt","localizedName":"salt","image":"salt.jpg"}],"equipment":[]},{"number":3,"step":"Drizzle with balsamic vinegar!","ingredients":[{"id":2069,"name":"balsamic vinegar","localizedName":"balsamic vinegar","image":"balsamic-vinegar.jpg"}],"equipment":[]}]}],"originalId":null,"spoonacularScore":57.453125,"spoonacularSourceUrl":"https://spoonacular.com/tomato-stack-salad-663638"}"#.data(using: .utf8)!
        return try! JSONDecoder().decode(Recipe.self, from: data)
    }
    
    static var preview2: Recipe {
        let data = #"{"id":639031,"image":"https://img.spoonacular.com/recipes/639031-556x370.jpg","imageType":"jpg","title":"Chocolate Fudge Cookies","readyInMinutes":20,"servings":24,"sourceUrl":"https://www.foodista.com/recipe/GZJMLM5F/chocolate-fudge-cookies","vegetarian":false,"vegan":false,"glutenFree":false,"dairyFree":false,"veryHealthy":false,"cheap":false,"veryPopular":false,"sustainable":false,"lowFodmap":false,"weightWatcherSmartPoints":7,"gaps":"no","preparationMinutes":null,"cookingMinutes":null,"aggregateLikes":11,"healthScore":0,"creditsText":"Foodista.com â€“ The Cooking Encyclopedia Everyone Can Edit","license":"CC BY 3.0","sourceName":"Foodista","pricePerServing":18.13,"extendedIngredients":[{"id":1001,"aisle":"Milk, Eggs, Other Dairy","image":"butter-sliced.jpg","consistency":"SOLID","name":"butter","nameClean":"butter","original":"2/3 cup butter, softened","originalName":"butter, softened","amount":0.6666667,"unit":"cup","meta":["softened"],"measures":{"us":{"amount":0.6666667,"unitShort":"cups","unitLong":"cups"},"metric":{"amount":151.333,"unitShort":"g","unitLong":"grams"}}},{"id":1014582,"aisle":"Oil, Vinegar, Salad Dressing","image":"vegetable-oil.jpg","consistency":"LIQUID","name":"canola oil","nameClean":"canola oil","original":"4 tablespoons canola oil","originalName":"canola oil","amount":4,"unit":"tablespoons","meta":[],"measures":{"us":{"amount":4,"unitShort":"Tbsps","unitLong":"Tbsps"},"metric":{"amount":4,"unitShort":"Tbsps","unitLong":"Tbsps"}}},{"id":99278,"aisle":"Baking","image":"chocolate-chips.jpg","consistency":"SOLID","name":"chocolate chips - chocolate or","nameClean":"chocolate chips - chocolate or","original":"1/4 cup chocolate chips - dark chocolate or white","originalName":"chocolate chips - dark chocolate or white","amount":0.25,"unit":"cup","meta":["dark","white"],"measures":{"us":{"amount":0.25,"unitShort":"cups","unitLong":"cups"},"metric":{"amount":45,"unitShort":"ml","unitLong":"milliliters"}}},{"id":1123,"aisle":"Milk, Eggs, Other Dairy","image":"egg.png","consistency":"SOLID","name":"egg","nameClean":"egg","original":"1 egg","originalName":"egg","amount":1,"unit":"","meta":[],"measures":{"us":{"amount":1,"unitShort":"","unitLong":""},"metric":{"amount":1,"unitShort":"","unitLong":""}}},{"id":18099,"aisle":"Baking","image":"chocolate-cake.jpg","consistency":"SOLID","name":"betty crocker chocolate fudge cake mix","nameClean":"betty crocker chocolate fudge cake mix","original":"1 15.25 oz package Betty Crocker Chocolate Fudge Cake Mix","originalName":"package Betty Crocker Chocolate Fudge Cake Mix","amount":15.25,"unit":"oz","meta":[],"measures":{"us":{"amount":15.25,"unitShort":"oz","unitLong":"ounces"},"metric":{"amount":432.33,"unitShort":"g","unitLong":"grams"}}},{"id":16098,"aisle":"Nut butters, Jams, and Honey","image":"peanut-butter.png","consistency":"SOLID","name":"peanut butter","nameClean":"peanut butter","original":"2 tablespoons peanut butter","originalName":"peanut butter","amount":2,"unit":"tablespoons","meta":[],"measures":{"us":{"amount":2,"unitShort":"Tbsps","unitLong":"Tbsps"},"metric":{"amount":2,"unitShort":"Tbsps","unitLong":"Tbsps"}}},{"id":8120,"aisle":"Cereal","image":"rolled-oats.jpg","consistency":"SOLID","name":"rolled oats","nameClean":"rolled oats","original":"1 cup rolled oats","originalName":"rolled oats","amount":1,"unit":"cup","meta":[],"measures":{"us":{"amount":1,"unitShort":"cup","unitLong":"cup"},"metric":{"amount":81.081,"unitShort":"g","unitLong":"grams"}}},{"id":1052050,"aisle":"Baking","image":"vanilla.jpg","consistency":"SOLID","name":"vanilla","nameClean":"vanilla","original":"1 teaspoon vanilla","originalName":"vanilla","amount":1,"unit":"teaspoon","meta":[],"measures":{"us":{"amount":1,"unitShort":"tsp","unitLong":"teaspoon"},"metric":{"amount":1,"unitShort":"tsp","unitLong":"teaspoon"}}},{"id":1011077,"aisle":"Milk, Eggs, Other Dairy","image":"milk.png","consistency":"LIQUID","name":"milk","nameClean":"milk","original":"1/4 cup whole milk","originalName":"whole milk","amount":0.25,"unit":"cup","meta":["whole"],"measures":{"us":{"amount":0.25,"unitShort":"cups","unitLong":"cups"},"metric":{"amount":61,"unitShort":"ml","unitLong":"milliliters"}}}],"summary":"Chocolate Fudge Cookies requires roughly <b>20 minutes</b> from start to finish. This recipe serves 24. This dessert has <b>178 calories</b>, <b>2g of protein</b>, and <b>12g of fat</b> per serving. For <b>18 cents per serving</b>, this recipe <b>covers 3%</b> of your daily requirements of vitamins and minerals. This recipe from Foodista has 11 fans. If you have rolled oats, vanilla, betty crocker chocolate fudge cake mix, and a few other ingredients on hand, you can make it. All things considered, we decided this recipe <b>deserves a spoonacular score of 10%</b>. This score is not so awesome. If you like this recipe, you might also like recipes such as <a href=\"https://spoonacular.com/recipes/chocolate-fudge-cookies-605271\">Chocolate Fudge Cookies</a>, <a href=\"https://spoonacular.com/recipes/chocolate-fudge-yogurt-cookies-609002\">Chocolate Fudge Yogurt Cookies</a>, and <a href=\"https://spoonacular.com/recipes/chocolate-fudge-yogurt-cookies-723573\">Chocolate Fudge Yogurt Cookies</a>.","cuisines":[],"dishTypes":["dessert"],"diets":[],"occasions":[],"instructions":"<ol><li>Preheat oven 350 degrees.</li><li>Using a stand mixer or food processor, combine all of the ingredients and mix until combined.</li><li>Spoon the dough onto prepared cookies sheets and press down gently with the back of a spoon.</li><li>Bake for 6-8 minutes.</li><li>Transfer to a wire rack and let cool.  Enjoy!</li></ol>","analyzedInstructions":[{"name":"","steps":[{"number":1,"step":"Preheat oven 350 degrees.Using a stand mixer or food processor, combine all of the ingredients and mix until combined.Spoon the dough onto prepared cookies sheets and press down gently with the back of a spoon.","ingredients":[{"id":10118192,"name":"cookies","localizedName":"cookies","image":"https://spoonacular.com/cdn/ingredients_100x100/shortbread-cookies.jpg"},{"id":0,"name":"dough","localizedName":"dough","image":"pizza-dough"}],"equipment":[{"id":404771,"name":"food processor","localizedName":"food processor","image":"https://spoonacular.com/cdn/equipment_100x100/food-processor.png"},{"id":404665,"name":"stand mixer","localizedName":"stand mixer","image":"https://spoonacular.com/cdn/equipment_100x100/stand-mixer.jpg"},{"id":404784,"name":"oven","localizedName":"oven","image":"https://spoonacular.com/cdn/equipment_100x100/oven.jpg"}]},{"number":2,"step":"Bake for 6-8 minutes.","ingredients":[],"equipment":[{"id":404784,"name":"oven","localizedName":"oven","image":"https://spoonacular.com/cdn/equipment_100x100/oven.jpg"}],"length":{"number":8,"unit":"minutes"}},{"number":3,"step":"Transfer to a wire rack and let cool.  Enjoy!","ingredients":[],"equipment":[{"id":405900,"name":"wire rack","localizedName":"wire rack","image":"https://spoonacular.com/cdn/equipment_100x100/wire-rack.jpg"}]}]}],"originalId":null,"spoonacularScore":2.734206438064575,"spoonacularSourceUrl":"https://spoonacular.com/chocolate-fudge-cookies-639031"}"#.data(using: .utf8)!
        return try! JSONDecoder().decode(Recipe.self, from: data)
    }
}

