import Foundation

typealias RecipeID = UInt32

struct Recipe: Identifiable, Codable {
    let id: RecipeID
    let imageURL: URL
    let title: String
    let readyInMinutes: Int
    let sourceName: String
    let aggregateLikes: Int
    
    let isVegetarian: Bool
    let isGlutenFree: Bool
    let isVeryHealthy: Bool
    
    let extendedIngredients: [Ingredient]
    
    private enum CodingKeys: String, CodingKey {
        case id
        case imageURL = "image"
        case title
        case readyInMinutes
        case sourceName
        case aggregateLikes
        case isVegetarian = "vegetarian"
        case isGlutenFree = "glutenFree"
        case isVeryHealthy = "veryHealthy"
        case extendedIngredients
    }
}

extension Recipe {
    static var preview1: Recipe {
        let data = #"{"id":644108,"image":"https://img.spoonacular.com/recipes/644108-556x370.jpg","imageType":"jpg","title":"Fusilli With Zucchini Flowers, Ricotta and Saffron","readyInMinutes":45,"servings":2,"sourceUrl":"https://www.foodista.com/recipe/FPKPM74C/fusilli-with-zucchini-flowers-ricotta-and-saffron","vegetarian":true,"vegan":false,"glutenFree":true,"dairyFree":false,"veryHealthy":true,"cheap":false,"veryPopular":false,"sustainable":false,"lowFodmap":false,"weightWatcherSmartPoints":8,"gaps":"no","preparationMinutes":null,"cookingMinutes":null,"aggregateLikes":2,"healthScore":86,"creditsText":"Foodista.com – The Cooking Encyclopedia Everyone Can Edit","license":"CC BY 3.0","sourceName":"Foodista","pricePerServing":429.75,"extendedIngredients":[{"id":10112061,"aisle":"Baking","image":"almonds.jpg","consistency":"SOLID","name":"almonds","nameClean":"almonds","original":"sliced almonds","originalName":"sliced almonds","amount":2,"unit":"servings","meta":["sliced"],"measures":{"us":{"amount":2,"unitShort":"servings","unitLong":"servings"},"metric":{"amount":2,"unitShort":"servings","unitLong":"servings"}}},{"id":4582,"aisle":"Oil, Vinegar, Salad Dressing","image":"vegetable-oil.jpg","consistency":"LIQUID","name":"oil evo","nameClean":"oil evo","original":"Oil Evo","originalName":"Oil Evo","amount":2,"unit":"servings","meta":[],"measures":{"us":{"amount":2,"unitShort":"servings","unitLong":"servings"},"metric":{"amount":2,"unitShort":"servings","unitLong":"servings"}}},{"id":10211821,"aisle":"Produce","image":"bell-pepper-orange.png","consistency":"SOLID","name":"bell pepper","nameClean":"bell pepper","original":"pepper","originalName":"pepper","amount":2,"unit":"servings","meta":[],"measures":{"us":{"amount":2,"unitShort":"servings","unitLong":"servings"},"metric":{"amount":2,"unitShort":"servings","unitLong":"servings"}}},{"id":10011282,"aisle":"Produce","image":"red-onion.png","consistency":"SOLID","name":"onion","nameClean":"onion","original":"1 red onion","originalName":"red onion","amount":1,"unit":"","meta":["red"],"measures":{"us":{"amount":1,"unitShort":"","unitLong":""},"metric":{"amount":1,"unitShort":"","unitLong":""}}},{"id":1036,"aisle":"Cheese","image":"ricotta.png","consistency":"SOLID","name":"ricotta cheese","nameClean":"ricotta cheese","original":"100 grams of ricotta cheese","originalName":"ricotta cheese","amount":100,"unit":"grams","meta":[],"measures":{"us":{"amount":3.527,"unitShort":"oz","unitLong":"ounces"},"metric":{"amount":100,"unitShort":"g","unitLong":"grams"}}},{"id":2037,"aisle":"Gourmet","image":"saffron.jpg","consistency":"SOLID","name":"saffron","nameClean":"saffron","original":"1 packet of saffron","originalName":"saffron","amount":1,"unit":"packet","meta":[],"measures":{"us":{"amount":1,"unitShort":"pkt","unitLong":"packet"},"metric":{"amount":1,"unitShort":"pkt","unitLong":"packet"}}},{"id":2047,"aisle":"Spices and Seasonings","image":"salt.jpg","consistency":"SOLID","name":"salt","nameClean":"salt","original":"salt","originalName":"salt","amount":2,"unit":"servings","meta":[],"measures":{"us":{"amount":2,"unitShort":"servings","unitLong":"servings"},"metric":{"amount":2,"unitShort":"servings","unitLong":"servings"}}},{"id":11477,"aisle":"Produce","image":"zucchini.jpg","consistency":"SOLID","name":"zucchini flowers","nameClean":"zucchini flowers","original":"12 zucchini flowers","originalName":"zucchini flowers","amount":12,"unit":"","meta":[],"measures":{"us":{"amount":12,"unitShort":"","unitLong":""},"metric":{"amount":12,"unitShort":"","unitLong":""}}},{"id":-1,"aisle":"?","image":null,"consistency":"SOLID","name":"fusilloro verrigni o fusilloni","nameClean":"fusilloro verrigni o fusilloni","original":"160 grams Fusilloro Verrigni o fusilloni","originalName":"Fusilloro Verrigni o fusilloni","amount":160,"unit":"grams","meta":[],"measures":{"us":{"amount":5.644,"unitShort":"oz","unitLong":"ounces"},"metric":{"amount":160,"unitShort":"g","unitLong":"grams"}}},{"id":-1,"aisle":"?","image":null,"consistency":"SOLID","name":"fusilloro verrigni o fusilloni","nameClean":"fusilloro verrigni o fusilloni","original":"160 grams Fusilloro Verrigni o fusilloni","originalName":"Fusilloro Verrigni o fusilloni","amount":160,"unit":"grams","meta":[],"measures":{"us":{"amount":5.644,"unitShort":"oz","unitLong":"ounces"},"metric":{"amount":160,"unitShort":"g","unitLong":"grams"}}}],"summary":"Fusilli With Zucchini Flowers, Ricottan and Saffron is a <b>gluten free and lacto ovo vegetarian</b> main course. This recipe makes 2 servings with <b>459 calories</b>, <b>21g of protein</b>, and <b>25g of fat</b> each. For <b>$4.3 per serving</b>, this recipe <b>covers 48%</b> of your daily requirements of vitamins and minerals. Only a few people made this recipe, and 2 would say it hit the spot. A mixture of almonds, oil evo, saffron, and a handful of other ingredients are all it takes to make this recipe so delicious. It is brought to you by Foodista. From preparation to the plate, this recipe takes roughly <b>45 minutes</b>. Overall, this recipe earns a <b>tremendous spoonacular score of 93%</b>. Users who liked this recipe also liked <a href=\"https://spoonacular.com/recipes/fried-zucchini-flowers-with-buffalo-ricotta-fiori-di-zucca-fritte-con-ricotta-di-bufala-e-pomodori-382854\">Fried Zucchini Flowers with Buffalo Ricotta: Fiori di Zucca Fritte con Ricotta di Bufalan e Pomodori</a>, <a href=\"https://spoonacular.com/recipes/ricotta-stuffed-zucchini-flowers-30895\">Ricotta-stuffed Zucchini Flowers</a>, and <a href=\"https://spoonacular.com/recipes/fusilli-with-raw-zucchini-mascarpone-and-ricotta-28277\">Fusilli With Raw Zucchini, Mascarpone And Ricotta</a>.","cuisines":[],"dishTypes":["side dish","lunch","main course","main dish","dinner"],"diets":["gluten free","lacto ovo vegetarian"],"occasions":[],"instructions":"<ol><li>Fusilli with zucchini flowers, ricotta and saffron</li><li>What do I need for 2 people</li><li>Wash and finely chop the onion  dry them gently in a pan with a drizzle of extra virgin olive oil, a pinch of salt and the sliced almonds.</li><li>Discard the stem and pistil of the flowers of pumpkin, cut into strips and add them to the mixture, stir briefly and turn off.</li><li>Drop the Fusilloro in plenty of boiling salted water and cook for 9 minutes (al dente).</li><li>In a bowl mix the ricotta with saffron, add a spoonful of pasta cooking water to obtain a smooth cream, add salt and pepper.</li><li>Drain the pasta into the pan with the fried zucchini flowers, add saffron cream and mix gently.</li><li>Serve immediately.</li></ol>","analyzedInstructions":[{"name":"","steps":[{"number":1,"step":"Fusilli with zucchini flowers, ricotta and saffron","ingredients":[{"id":0,"name":"zucchini blossoms","localizedName":"zucchini blossoms","image":"squash-blossoms.jpg"},{"id":11320420,"name":"fusilli","localizedName":"fusilli","image":"fusilli.jpg"},{"id":1036,"name":"ricotta cheese","localizedName":"ricotta cheese","image":"ricotta.png"},{"id":2037,"name":"saffron","localizedName":"saffron","image":"saffron.jpg"}],"equipment":[]},{"number":2,"step":"What do I need for 2 people","ingredients":[],"equipment":[]},{"number":3,"step":"Wash and finely chop the onion  dry them gently in a pan with a drizzle of extra virgin olive oil, a pinch of salt and the sliced almonds.Discard the stem and pistil of the flowers of pumpkin, cut into strips and add them to the mixture, stir briefly and turn off.Drop the Fusilloro in plenty of boiling salted water and cook for 9 minutes (al dente).In a bowl mix the ricotta with saffron, add a spoonful of pasta cooking water to obtain a smooth cream, add salt and pepper.","ingredients":[{"id":1034053,"name":"extra virgin olive oil","localizedName":"extra virgin olive oil","image":"olive-oil.jpg"},{"id":1102047,"name":"salt and pepper","localizedName":"salt and pepper","image":"salt-and-pepper.jpg"},{"id":10112061,"name":"sliced almonds","localizedName":"sliced almonds","image":"almonds.jpg"},{"id":11422,"name":"pumpkin","localizedName":"pumpkin","image":"pumpkin.png"},{"id":1036,"name":"ricotta cheese","localizedName":"ricotta cheese","image":"ricotta.png"},{"id":2037,"name":"saffron","localizedName":"saffron","image":"saffron.jpg"},{"id":1053,"name":"cream","localizedName":"cream","image":"fluid-cream.jpg"},{"id":11282,"name":"onion","localizedName":"onion","image":"brown-onion.png"},{"id":20420,"name":"pasta","localizedName":"pasta","image":"https://spoonacular.com/cdn/ingredients_100x100/fusilli.jpg"},{"id":14412,"name":"water","localizedName":"water","image":"water.png"},{"id":2047,"name":"salt","localizedName":"salt","image":"salt.jpg"}],"equipment":[{"id":404783,"name":"bowl","localizedName":"bowl","image":"https://spoonacular.com/cdn/equipment_100x100/bowl.jpg"},{"id":404645,"name":"frying pan","localizedName":"frying pan","image":"https://spoonacular.com/cdn/equipment_100x100/pan.png"}],"length":{"number":9,"unit":"minutes"}},{"number":4,"step":"Drain the pasta into the pan with the fried zucchini flowers, add saffron cream and mix gently.","ingredients":[{"id":0,"name":"zucchini blossoms","localizedName":"zucchini blossoms","image":"squash-blossoms.jpg"},{"id":2037,"name":"saffron","localizedName":"saffron","image":"saffron.jpg"},{"id":1053,"name":"cream","localizedName":"cream","image":"fluid-cream.jpg"},{"id":20420,"name":"pasta","localizedName":"pasta","image":"https://spoonacular.com/cdn/ingredients_100x100/fusilli.jpg"}],"equipment":[{"id":404645,"name":"frying pan","localizedName":"frying pan","image":"https://spoonacular.com/cdn/equipment_100x100/pan.png"}]},{"number":5,"step":"Serve immediately.","ingredients":[],"equipment":[]}]}],"originalId":null,"spoonacularScore":92.83124542236328,"spoonacularSourceUrl":"https://spoonacular.com/fusilli-with-zucchini-flowers-ricotta-and-saffron-644108"}"#.data(using: .utf8)!
        return try! JSONDecoder().decode(Recipe.self, from: data)
    }
    
    static var preview2: Recipe {
        let data = #"{"id":639031,"image":"https://img.spoonacular.com/recipes/639031-556x370.jpg","imageType":"jpg","title":"Chocolate Fudge Cookies","readyInMinutes":20,"servings":24,"sourceUrl":"https://www.foodista.com/recipe/GZJMLM5F/chocolate-fudge-cookies","vegetarian":false,"vegan":false,"glutenFree":false,"dairyFree":false,"veryHealthy":false,"cheap":false,"veryPopular":false,"sustainable":false,"lowFodmap":false,"weightWatcherSmartPoints":7,"gaps":"no","preparationMinutes":null,"cookingMinutes":null,"aggregateLikes":11,"healthScore":0,"creditsText":"Foodista.com – The Cooking Encyclopedia Everyone Can Edit","license":"CC BY 3.0","sourceName":"Foodista","pricePerServing":18.13,"extendedIngredients":[{"id":1001,"aisle":"Milk, Eggs, Other Dairy","image":"butter-sliced.jpg","consistency":"SOLID","name":"butter","nameClean":"butter","original":"2/3 cup butter, softened","originalName":"butter, softened","amount":0.6666667,"unit":"cup","meta":["softened"],"measures":{"us":{"amount":0.6666667,"unitShort":"cups","unitLong":"cups"},"metric":{"amount":151.333,"unitShort":"g","unitLong":"grams"}}},{"id":1014582,"aisle":"Oil, Vinegar, Salad Dressing","image":"vegetable-oil.jpg","consistency":"LIQUID","name":"canola oil","nameClean":"canola oil","original":"4 tablespoons canola oil","originalName":"canola oil","amount":4,"unit":"tablespoons","meta":[],"measures":{"us":{"amount":4,"unitShort":"Tbsps","unitLong":"Tbsps"},"metric":{"amount":4,"unitShort":"Tbsps","unitLong":"Tbsps"}}},{"id":99278,"aisle":"Baking","image":"chocolate-chips.jpg","consistency":"SOLID","name":"chocolate chips - chocolate or","nameClean":"chocolate chips - chocolate or","original":"1/4 cup chocolate chips - dark chocolate or white","originalName":"chocolate chips - dark chocolate or white","amount":0.25,"unit":"cup","meta":["dark","white"],"measures":{"us":{"amount":0.25,"unitShort":"cups","unitLong":"cups"},"metric":{"amount":45,"unitShort":"ml","unitLong":"milliliters"}}},{"id":1123,"aisle":"Milk, Eggs, Other Dairy","image":"egg.png","consistency":"SOLID","name":"egg","nameClean":"egg","original":"1 egg","originalName":"egg","amount":1,"unit":"","meta":[],"measures":{"us":{"amount":1,"unitShort":"","unitLong":""},"metric":{"amount":1,"unitShort":"","unitLong":""}}},{"id":18099,"aisle":"Baking","image":"chocolate-cake.jpg","consistency":"SOLID","name":"betty crocker chocolate fudge cake mix","nameClean":"betty crocker chocolate fudge cake mix","original":"1 15.25 oz package Betty Crocker Chocolate Fudge Cake Mix","originalName":"package Betty Crocker Chocolate Fudge Cake Mix","amount":15.25,"unit":"oz","meta":[],"measures":{"us":{"amount":15.25,"unitShort":"oz","unitLong":"ounces"},"metric":{"amount":432.33,"unitShort":"g","unitLong":"grams"}}},{"id":16098,"aisle":"Nut butters, Jams, and Honey","image":"peanut-butter.png","consistency":"SOLID","name":"peanut butter","nameClean":"peanut butter","original":"2 tablespoons peanut butter","originalName":"peanut butter","amount":2,"unit":"tablespoons","meta":[],"measures":{"us":{"amount":2,"unitShort":"Tbsps","unitLong":"Tbsps"},"metric":{"amount":2,"unitShort":"Tbsps","unitLong":"Tbsps"}}},{"id":8120,"aisle":"Cereal","image":"rolled-oats.jpg","consistency":"SOLID","name":"rolled oats","nameClean":"rolled oats","original":"1 cup rolled oats","originalName":"rolled oats","amount":1,"unit":"cup","meta":[],"measures":{"us":{"amount":1,"unitShort":"cup","unitLong":"cup"},"metric":{"amount":81.081,"unitShort":"g","unitLong":"grams"}}},{"id":1052050,"aisle":"Baking","image":"vanilla.jpg","consistency":"SOLID","name":"vanilla","nameClean":"vanilla","original":"1 teaspoon vanilla","originalName":"vanilla","amount":1,"unit":"teaspoon","meta":[],"measures":{"us":{"amount":1,"unitShort":"tsp","unitLong":"teaspoon"},"metric":{"amount":1,"unitShort":"tsp","unitLong":"teaspoon"}}},{"id":1011077,"aisle":"Milk, Eggs, Other Dairy","image":"milk.png","consistency":"LIQUID","name":"milk","nameClean":"milk","original":"1/4 cup whole milk","originalName":"whole milk","amount":0.25,"unit":"cup","meta":["whole"],"measures":{"us":{"amount":0.25,"unitShort":"cups","unitLong":"cups"},"metric":{"amount":61,"unitShort":"ml","unitLong":"milliliters"}}}],"summary":"Chocolate Fudge Cookies requires roughly <b>20 minutes</b> from start to finish. This recipe serves 24. This dessert has <b>178 calories</b>, <b>2g of protein</b>, and <b>12g of fat</b> per serving. For <b>18 cents per serving</b>, this recipe <b>covers 3%</b> of your daily requirements of vitamins and minerals. This recipe from Foodista has 11 fans. If you have rolled oats, vanilla, betty crocker chocolate fudge cake mix, and a few other ingredients on hand, you can make it. All things considered, we decided this recipe <b>deserves a spoonacular score of 10%</b>. This score is not so awesome. If you like this recipe, you might also like recipes such as <a href=\"https://spoonacular.com/recipes/chocolate-fudge-cookies-605271\">Chocolate Fudge Cookies</a>, <a href=\"https://spoonacular.com/recipes/chocolate-fudge-yogurt-cookies-609002\">Chocolate Fudge Yogurt Cookies</a>, and <a href=\"https://spoonacular.com/recipes/chocolate-fudge-yogurt-cookies-723573\">Chocolate Fudge Yogurt Cookies</a>.","cuisines":[],"dishTypes":["dessert"],"diets":[],"occasions":[],"instructions":"<ol><li>Preheat oven 350 degrees.</li><li>Using a stand mixer or food processor, combine all of the ingredients and mix until combined.</li><li>Spoon the dough onto prepared cookies sheets and press down gently with the back of a spoon.</li><li>Bake for 6-8 minutes.</li><li>Transfer to a wire rack and let cool.  Enjoy!</li></ol>","analyzedInstructions":[{"name":"","steps":[{"number":1,"step":"Preheat oven 350 degrees.Using a stand mixer or food processor, combine all of the ingredients and mix until combined.Spoon the dough onto prepared cookies sheets and press down gently with the back of a spoon.","ingredients":[{"id":10118192,"name":"cookies","localizedName":"cookies","image":"https://spoonacular.com/cdn/ingredients_100x100/shortbread-cookies.jpg"},{"id":0,"name":"dough","localizedName":"dough","image":"pizza-dough"}],"equipment":[{"id":404771,"name":"food processor","localizedName":"food processor","image":"https://spoonacular.com/cdn/equipment_100x100/food-processor.png"},{"id":404665,"name":"stand mixer","localizedName":"stand mixer","image":"https://spoonacular.com/cdn/equipment_100x100/stand-mixer.jpg"},{"id":404784,"name":"oven","localizedName":"oven","image":"https://spoonacular.com/cdn/equipment_100x100/oven.jpg"}]},{"number":2,"step":"Bake for 6-8 minutes.","ingredients":[],"equipment":[{"id":404784,"name":"oven","localizedName":"oven","image":"https://spoonacular.com/cdn/equipment_100x100/oven.jpg"}],"length":{"number":8,"unit":"minutes"}},{"number":3,"step":"Transfer to a wire rack and let cool.  Enjoy!","ingredients":[],"equipment":[{"id":405900,"name":"wire rack","localizedName":"wire rack","image":"https://spoonacular.com/cdn/equipment_100x100/wire-rack.jpg"}]}]}],"originalId":null,"spoonacularScore":2.734206438064575,"spoonacularSourceUrl":"https://spoonacular.com/chocolate-fudge-cookies-639031"}"#.data(using: .utf8)!
        return try! JSONDecoder().decode(Recipe.self, from: data)
    }
}

